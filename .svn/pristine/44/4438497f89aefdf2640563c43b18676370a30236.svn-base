//package com.cms.service.impl;
//
//import org.springframework.beans.factory.annotation.Autowired;
//import org.springframework.stereotype.Service;
//import org.springframework.transaction.annotation.Transactional;
//
//import com.portal.dao.HelperDao;
//import com.portal.dao.PlayerDao;
//import com.portal.dao.UserDao;
//import com.portal.dto.Account;
//import com.portal.dto.User;
//import com.portal.service.LoginService;
//
//@Service(value="loginService")
//public class LoginServiceImpl implements LoginService{
//	
//	private UserDao userDao;
//	private PlayerDao playerDao;
//	
//	@Autowired
//	public LoginServiceImpl(UserDao userDao, PlayerDao playerDao, HelperDao helperDao) {
//		this.userDao = userDao;
//		this.playerDao = playerDao;
//	}
//	
//	@Transactional
//	@Override
//	public User checkLogin(String username, String password) {
//		User user = null;
//		com.portal.entity.User userEntity = userDao.findByUsernameAndPassword(username, password);
//		long terminalsCount = 0;
//		if(userEntity != null){
//			terminalsCount = playerDao.countByAgentId(userEntity.getAgent().getId());
//			user = new User(userEntity);
//			user.setTotalTerminals(new Long(terminalsCount).intValue());
//		}
//		return user; 
//	}
//
//	@Override
//	@Transactional
//	public void updateUser(Account user) {
//		com.portal.entity.User userEntity = userDao.findByUserId(user.getUsername());
//		if(userEntity != null){
//			userEntity.setLastLogin(user.getLastLogin());
//			userEntity.setLastLoginIp(user.getLastLoginIp());
//			userEntity.setSessionId(user.getSessionId());
//			userEntity.setIsLogged(user.getIsLogged());;
//			userDao.save(userEntity);
//		}
//	}
//	
//}
